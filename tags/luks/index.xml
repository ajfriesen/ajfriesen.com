<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>luks | ajfriesen</title><link>https://www.ajfriesen.com/tags/luks/</link><atom:link href="https://www.ajfriesen.com/tags/luks/index.xml" rel="self" type="application/rss+xml"/><description>luks</description><generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Andrej Friesen</copyright><lastBuildDate>Mon, 13 Apr 2020 01:26:15 +0200</lastBuildDate><image><url>https://www.ajfriesen.com/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png</url><title>luks</title><link>https://www.ajfriesen.com/tags/luks/</link></image><item><title>Decrypt and Mount LUKS Volume in Grub Rescue Mode</title><link>https://www.ajfriesen.com/post/decrypt-and-mount-luks-volume-in-grub-rescue-mode/</link><pubDate>Mon, 13 Apr 2020 01:26:15 +0200</pubDate><guid>https://www.ajfriesen.com/post/decrypt-and-mount-luks-volume-in-grub-rescue-mode/</guid><description>&lt;p>I am running arch Linux on my server with LUKS disc encryption.
I do need to type in my password every time I reboot the machine.
Sometimes I have a typo and this happens:&lt;/p>
&lt;pre>&lt;code>Welcome to GRUB!
Attempting to decrypt master key...
Enter passphrase for hd1,gpt2 (&amp;lt;disk uuid&amp;gt;):
error: access denied
error: no such cryptodisk found.
error: disk `cryptouuid/&amp;lt;disk uuid&amp;gt;` not found.
Entering rescue mode...
&lt;/code>&lt;/pre>
&lt;p>Since with IPMI I do not need to attach a VGA cable and keyboard to my server but still the grub rescue console is something I am not familiar with and need to deal with.&lt;/p>
&lt;p>You can mount the partition with &lt;code>cryptomount&lt;/code>:&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;pre>&lt;code>cryptomount (hd1,gpt2)
&lt;/code>&lt;/pre>
&lt;p>Enter your password.&lt;/p>
&lt;p>Then load the module for a normal boot&lt;/p>
&lt;pre>&lt;code>insmod normal
&lt;/code>&lt;/pre>
&lt;p>Boot:&lt;/p>
&lt;pre>&lt;code>normal
&lt;/code>&lt;/pre>
&lt;p>Now you should get forwarded to the grub boot manager as you typed the password correct the first time.&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>
&lt;a href="https://www.gnu.org/software/grub/manual/grub/html_node/cryptomount.html#cryptomount" target="_blank" rel="noopener">cryptomount&lt;/a> &lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item></channel></rss>